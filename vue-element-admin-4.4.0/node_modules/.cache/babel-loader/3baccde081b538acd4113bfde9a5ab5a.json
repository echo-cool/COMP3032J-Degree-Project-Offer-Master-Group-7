{"remainingRequest":"/Users/xujinfengxu/Desktop/computer/tmp/comp3032j_fyp_thesis_group_7/vue-element-admin-4.4.0/node_modules/babel-loader/lib/index.js!/Users/xujinfengxu/Desktop/computer/tmp/comp3032j_fyp_thesis_group_7/vue-element-admin-4.4.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xujinfengxu/Desktop/computer/tmp/comp3032j_fyp_thesis_group_7/vue-element-admin-4.4.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xujinfengxu/Desktop/computer/tmp/comp3032j_fyp_thesis_group_7/vue-element-admin-4.4.0/src/views/zip/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xujinfengxu/Desktop/computer/tmp/comp3032j_fyp_thesis_group_7/vue-element-admin-4.4.0/src/views/zip/index.vue","mtime":1678261755452},{"path":"/Users/xujinfengxu/Desktop/computer/tmp/comp3032j_fyp_thesis_group_7/vue-element-admin-4.4.0/babel.config.js","mtime":1678261755375},{"path":"/Users/xujinfengxu/Desktop/computer/tmp/comp3032j_fyp_thesis_group_7/vue-element-admin-4.4.0/node_modules/cache-loader/dist/cjs.js","mtime":1677830573783},{"path":"/Users/xujinfengxu/Desktop/computer/tmp/comp3032j_fyp_thesis_group_7/vue-element-admin-4.4.0/node_modules/babel-loader/lib/index.js","mtime":1677830575186},{"path":"/Users/xujinfengxu/Desktop/computer/tmp/comp3032j_fyp_thesis_group_7/vue-element-admin-4.4.0/node_modules/cache-loader/dist/cjs.js","mtime":1677830573783},{"path":"/Users/xujinfengxu/Desktop/computer/tmp/comp3032j_fyp_thesis_group_7/vue-element-admin-4.4.0/node_modules/vue-loader/lib/index.js","mtime":1677830575589}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIGZyb20gIi9Vc2Vycy94dWppbmZlbmd4dS9EZXNrdG9wL2NvbXB1dGVyL3RtcC9jb21wMzAzMmpfZnlwX3RoZXNpc19ncm91cF83L3Z1ZS1lbGVtZW50LWFkbWluLTQuNC4wL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkLmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL3h1amluZmVuZ3h1L0Rlc2t0b3AvY29tcHV0ZXIvdG1wL2NvbXAzMDMyal9meXBfdGhlc2lzX2dyb3VwXzcvdnVlLWVsZW1lbnQtYWRtaW4tNC40LjAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMveHVqaW5mZW5neHUvRGVza3RvcC9jb21wdXRlci90bXAvY29tcDMwMzJqX2Z5cF90aGVzaXNfZ3JvdXBfNy92dWUtZWxlbWVudC1hZG1pbi00LjQuMC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZldGNoTGlzdCB9IGZyb20gJ0AvYXBpL2FydGljbGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0V4cG9ydFppcCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3Q6IG51bGwsCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICBkb3dubG9hZExvYWRpbmc6IGZhbHNlLAogICAgICBmaWxlbmFtZTogJycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkZmV0Y2hMaXN0LCBkYXRhOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hMaXN0KCk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfeWllbGQkZmV0Y2hMaXN0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGZldGNoTGlzdC5kYXRhOwogICAgICAgICAgICAgIF90aGlzLmxpc3QgPSBkYXRhLml0ZW1zOwogICAgICAgICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBoYW5kbGVEb3dubG9hZDogZnVuY3Rpb24gaGFuZGxlRG93bmxvYWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLmRvd25sb2FkTG9hZGluZyA9IHRydWU7CiAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCdAL3ZlbmRvci9FeHBvcnQyWmlwJykpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICh6aXApIHsKICAgICAgICB2YXIgdEhlYWRlciA9IFsnSWQnLCAnVGl0bGUnLCAnQXV0aG9yJywgJ1JlYWRpbmdzJywgJ0RhdGUnXTsKICAgICAgICB2YXIgZmlsdGVyVmFsID0gWydpZCcsICd0aXRsZScsICdhdXRob3InLCAncGFnZXZpZXdzJywgJ2Rpc3BsYXlfdGltZSddOwogICAgICAgIHZhciBsaXN0ID0gX3RoaXMyLmxpc3Q7CiAgICAgICAgdmFyIGRhdGEgPSBfdGhpczIuZm9ybWF0SnNvbihmaWx0ZXJWYWwsIGxpc3QpOwogICAgICAgIHppcC5leHBvcnRfdHh0X3RvX3ppcCh0SGVhZGVyLCBkYXRhLCBfdGhpczIuZmlsZW5hbWUsIF90aGlzMi5maWxlbmFtZSk7CiAgICAgICAgX3RoaXMyLmRvd25sb2FkTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBmb3JtYXRKc29uOiBmdW5jdGlvbiBmb3JtYXRKc29uKGZpbHRlclZhbCwganNvbkRhdGEpIHsKICAgICAgcmV0dXJuIGpzb25EYXRhLm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiBmaWx0ZXJWYWwubWFwKGZ1bmN0aW9uIChqKSB7CiAgICAgICAgICByZXR1cm4gdltqXTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["fetchList","name","data","list","listLoading","downloadLoading","filename","created","fetchData","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$fetchList","wrap","_callee$","_context","prev","next","sent","items","stop","handleDownload","_this2","Promise","resolve","then","_interopRequireWildcard","require","zip","tHeader","filterVal","formatJson","export_txt_to_zip","jsonData","map","v","j"],"sources":["src/views/zip/index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-input v-model=\"filename\" placeholder=\"Please enter the file name (default file)\" style=\"width:300px;\" prefix-icon=\"el-icon-document\" />\n    <el-button :loading=\"downloadLoading\" style=\"margin-bottom:20px;\" type=\"primary\" icon=\"el-icon-document\" @click=\"handleDownload\">\n      Export Zip\n    </el-button>\n    <el-table v-loading=\"listLoading\" :data=\"list\" element-loading-text=\"拼命加载中\" border fit highlight-current-row>\n      <el-table-column align=\"center\" label=\"ID\" width=\"95\">\n        <template slot-scope=\"scope\">\n          {{ scope.$index }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Title\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.title }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Author\" width=\"95\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag>{{ scope.row.author }}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Readings\" width=\"115\" align=\"center\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.pageviews }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"Date\" width=\"220\">\n        <template slot-scope=\"scope\">\n          <i class=\"el-icon-time\" />\n          <span>{{ scope.row.display_time }}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { fetchList } from '@/api/article'\n\nexport default {\n  name: 'ExportZip',\n  data() {\n    return {\n      list: null,\n      listLoading: true,\n      downloadLoading: false,\n      filename: ''\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  methods: {\n    async fetchData() {\n      this.listLoading = true\n      const { data } = await fetchList()\n      this.list = data.items\n      this.listLoading = false\n    },\n    handleDownload() {\n      this.downloadLoading = true\n      import('@/vendor/Export2Zip').then(zip => {\n        const tHeader = ['Id', 'Title', 'Author', 'Readings', 'Date']\n        const filterVal = ['id', 'title', 'author', 'pageviews', 'display_time']\n        const list = this.list\n        const data = this.formatJson(filterVal, list)\n        zip.export_txt_to_zip(tHeader, data, this.filename, this.filename)\n        this.downloadLoading = false\n      })\n    },\n    formatJson(filterVal, jsonData) {\n      return jsonData.map(v => filterVal.map(j => v[j]))\n    }\n  }\n}\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,SAAAA,SAAA;AAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,IAAA;MACAC,WAAA;MACAC,eAAA;MACAC,QAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACAD,SAAA,WAAAA,UAAA;MAAA,IAAAE,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,gBAAA,EAAAb,IAAA;QAAA,OAAAU,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAV,KAAA,CAAAN,WAAA;cAAAc,QAAA,CAAAE,IAAA;cAAA,OACApB,SAAA;YAAA;cAAAe,gBAAA,GAAAG,QAAA,CAAAG,IAAA;cAAAnB,IAAA,GAAAa,gBAAA,CAAAb,IAAA;cACAQ,KAAA,CAAAP,IAAA,GAAAD,IAAA,CAAAoB,KAAA;cACAZ,KAAA,CAAAN,WAAA;YAAA;YAAA;cAAA,OAAAc,QAAA,CAAAK,IAAA;UAAA;QAAA,GAAAT,OAAA;MAAA;IACA;IACAU,cAAA,WAAAA,eAAA;MAAA,IAAAC,MAAA;MACA,KAAApB,eAAA;MACAqB,OAAA,CAAAC,OAAA,GAAAC,IAAA;QAAA,OAAAC,uBAAA,CAAAC,OAAA;MAAA,GAAAF,IAAA,WAAAG,GAAA;QACA,IAAAC,OAAA;QACA,IAAAC,SAAA;QACA,IAAA9B,IAAA,GAAAsB,MAAA,CAAAtB,IAAA;QACA,IAAAD,IAAA,GAAAuB,MAAA,CAAAS,UAAA,CAAAD,SAAA,EAAA9B,IAAA;QACA4B,GAAA,CAAAI,iBAAA,CAAAH,OAAA,EAAA9B,IAAA,EAAAuB,MAAA,CAAAnB,QAAA,EAAAmB,MAAA,CAAAnB,QAAA;QACAmB,MAAA,CAAApB,eAAA;MACA;IACA;IACA6B,UAAA,WAAAA,WAAAD,SAAA,EAAAG,QAAA;MACA,OAAAA,QAAA,CAAAC,GAAA,WAAAC,CAAA;QAAA,OAAAL,SAAA,CAAAI,GAAA,WAAAE,CAAA;UAAA,OAAAD,CAAA,CAAAC,CAAA;QAAA;MAAA;IACA;EACA;AACA"}]}